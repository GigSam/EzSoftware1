<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_261) on Thu May 06 13:02:15 CEST 2021 -->
<title>EZShop</title>
<meta name="date" content="2021-05-06">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="EZShop";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":9,"i7":10,"i8":10,"i9":9,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10,"i28":10,"i29":10,"i30":10,"i31":10,"i32":10,"i33":10,"i34":10,"i35":10,"i36":10,"i37":10,"i38":10,"i39":10,"i40":10,"i41":10,"i42":10,"i43":10,"i44":10,"i45":10,"i46":10,"i47":10,"i48":10,"i49":10,"i50":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../it/polito/ezshop/data/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/EZShop.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?it/polito/ezshop/data/EZShop.html" target="_top">Frames</a></li>
<li><a href="EZShop.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">it.polito.ezshop.data</div>
<h2 title="Class EZShop" class="title">Class EZShop</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>it.polito.ezshop.data.EZShop</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>it.polito.ezshop.data.EZShopInterface</dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">EZShop</span>
extends java.lang.Object
implements it.polito.ezshop.data.EZShopInterface</pre>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../it/polito/ezshop/data/EZShop.html#EZShop--">EZShop</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../it/polito/ezshop/data/EZShop.html#addProductToSale-java.lang.Integer-java.lang.String-int-">addProductToSale</a></span>(java.lang.Integer&nbsp;transactionId,
                java.lang.String&nbsp;productCode,
                int&nbsp;amount)</code>
<div class="block">This method adds a product to a sale transaction decreasing the temporary amount of product available on the
 shelves for other customers.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../it/polito/ezshop/data/EZShop.html#applyDiscountRateToProduct-java.lang.Integer-java.lang.String-double-">applyDiscountRateToProduct</a></span>(java.lang.Integer&nbsp;transactionId,
                          java.lang.String&nbsp;productCode,
                          double&nbsp;discountRate)</code>
<div class="block">This method applies a discount rate to all units of a product type with given type in a sale transaction.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../it/polito/ezshop/data/EZShop.html#applyDiscountRateToSale-java.lang.Integer-double-">applyDiscountRateToSale</a></span>(java.lang.Integer&nbsp;transactionId,
                       double&nbsp;discountRate)</code>
<div class="block">This method applies a discount rate to the whole sale transaction.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../it/polito/ezshop/data/EZShop.html#attachCardToCustomer-java.lang.String-java.lang.Integer-">attachCardToCustomer</a></span>(java.lang.String&nbsp;customerCard,
                    java.lang.Integer&nbsp;customerId)</code>
<div class="block">This method assigns a card with given card code to a customer with given identifier.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../it/polito/ezshop/data/EZShop.html#computeBalance--">computeBalance</a></span>()</code>
<div class="block">This method returns the actual balance of the system.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../it/polito/ezshop/data/EZShop.html#computePointsForSale-java.lang.Integer-">computePointsForSale</a></span>(java.lang.Integer&nbsp;transactionId)</code>
<div class="block">This method returns the number of points granted by a specific sale transaction.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../it/polito/ezshop/data/EZShop.html#connect--">connect</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../it/polito/ezshop/data/EZShop.html#createCard--">createCard</a></span>()</code>
<div class="block">This method returns a string containing the code of a new assignable card.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>java.lang.Integer</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../it/polito/ezshop/data/EZShop.html#createProductType-java.lang.String-java.lang.String-double-java.lang.String-">createProductType</a></span>(java.lang.String&nbsp;description,
                 java.lang.String&nbsp;productCode,
                 double&nbsp;pricePerUnit,
                 java.lang.String&nbsp;note)</code>
<div class="block">This method creates a product type and returns its unique identifier.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../it/polito/ezshop/data/EZShop.html#createTables--">createTables</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>java.lang.Integer</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../it/polito/ezshop/data/EZShop.html#createUser-java.lang.String-java.lang.String-java.lang.String-">createUser</a></span>(java.lang.String&nbsp;username,
          java.lang.String&nbsp;password,
          java.lang.String&nbsp;role)</code>
<div class="block">This method creates a new user with given username, password and role.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>java.lang.Integer</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../it/polito/ezshop/data/EZShop.html#defineCustomer-java.lang.String-">defineCustomer</a></span>(java.lang.String&nbsp;customerName)</code>
<div class="block">This method saves a new customer into the system.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../it/polito/ezshop/data/EZShop.html#deleteCustomer-java.lang.Integer-">deleteCustomer</a></span>(java.lang.Integer&nbsp;id)</code>
<div class="block">This method deletes a customer with given id from the system.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../it/polito/ezshop/data/EZShop.html#deleteProductFromSale-java.lang.Integer-java.lang.String-int-">deleteProductFromSale</a></span>(java.lang.Integer&nbsp;transactionId,
                     java.lang.String&nbsp;productCode,
                     int&nbsp;amount)</code>
<div class="block">This method deletes a product from a sale transaction increasing the temporary amount of product available on the
 shelves for other customers.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../it/polito/ezshop/data/EZShop.html#deleteProductType-java.lang.Integer-">deleteProductType</a></span>(java.lang.Integer&nbsp;id)</code>
<div class="block">This method deletes a product with given product id.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../it/polito/ezshop/data/EZShop.html#deleteReturnTransaction-java.lang.Integer-">deleteReturnTransaction</a></span>(java.lang.Integer&nbsp;returnId)</code>
<div class="block">This method deletes a closed return transaction.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../it/polito/ezshop/data/EZShop.html#deleteSaleTransaction-java.lang.Integer-">deleteSaleTransaction</a></span>(java.lang.Integer&nbsp;saleNumber)</code>
<div class="block">This method deletes a sale transaction with given unique identifier from the system's data store.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../it/polito/ezshop/data/EZShop.html#deleteUser-java.lang.Integer-">deleteUser</a></span>(java.lang.Integer&nbsp;id)</code>
<div class="block">This method deletes the user with given id.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../it/polito/ezshop/data/EZShop.html#endReturnTransaction-java.lang.Integer-boolean-">endReturnTransaction</a></span>(java.lang.Integer&nbsp;returnId,
                    boolean&nbsp;commit)</code>
<div class="block">This method closes a return transaction.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../it/polito/ezshop/data/EZShop.html#endSaleTransaction-java.lang.Integer-">endSaleTransaction</a></span>(java.lang.Integer&nbsp;transactionId)</code>
<div class="block">This method closes an opened transaction.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>java.util.List&lt;it.polito.ezshop.data.Customer&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../it/polito/ezshop/data/EZShop.html#getAllCustomers--">getAllCustomers</a></span>()</code>
<div class="block">This method returns a list containing all registered users.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>java.util.List&lt;it.polito.ezshop.data.Order&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../it/polito/ezshop/data/EZShop.html#getAllOrders--">getAllOrders</a></span>()</code>
<div class="block">This method return the list of all orders ISSUED, ORDERED and COMLPETED.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>java.util.List&lt;it.polito.ezshop.data.ProductType&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../it/polito/ezshop/data/EZShop.html#getAllProductTypes--">getAllProductTypes</a></span>()</code>
<div class="block">This method returns the list of all registered product types.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>java.util.List&lt;it.polito.ezshop.data.User&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../it/polito/ezshop/data/EZShop.html#getAllUsers--">getAllUsers</a></span>()</code>
<div class="block">This method returns the list of all registered users.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>java.util.List&lt;it.polito.ezshop.data.BalanceOperation&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../it/polito/ezshop/data/EZShop.html#getCreditsAndDebits-java.time.LocalDate-java.time.LocalDate-">getCreditsAndDebits</a></span>(java.time.LocalDate&nbsp;from,
                   java.time.LocalDate&nbsp;to)</code>
<div class="block">This method returns a list of all the balance operations (CREDIT,DEBIT,ORDER,SALE,RETURN) performed between two
 given dates.</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>it.polito.ezshop.data.Customer</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../it/polito/ezshop/data/EZShop.html#getCustomer-java.lang.Integer-">getCustomer</a></span>(java.lang.Integer&nbsp;id)</code>
<div class="block">This method returns a customer with given id.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>it.polito.ezshop.data.ProductType</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../it/polito/ezshop/data/EZShop.html#getProductTypeByBarCode-java.lang.String-">getProductTypeByBarCode</a></span>(java.lang.String&nbsp;barCode)</code>
<div class="block">This method returns a product type with given barcode.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>java.util.List&lt;it.polito.ezshop.data.ProductType&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../it/polito/ezshop/data/EZShop.html#getProductTypesByDescription-java.lang.String-">getProductTypesByDescription</a></span>(java.lang.String&nbsp;description)</code>
<div class="block">This method returns a list of all products with a description containing the string received as parameter.</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>it.polito.ezshop.data.SaleTransaction</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../it/polito/ezshop/data/EZShop.html#getSaleTransaction-java.lang.Integer-">getSaleTransaction</a></span>(java.lang.Integer&nbsp;transactionId)</code>
<div class="block">This method returns  a closed sale transaction.</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>it.polito.ezshop.data.User</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../it/polito/ezshop/data/EZShop.html#getUser-java.lang.Integer-">getUser</a></span>(java.lang.Integer&nbsp;id)</code>
<div class="block">This method returns a User object with given id.</div>
</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>java.lang.Integer</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../it/polito/ezshop/data/EZShop.html#issueOrder-java.lang.String-int-double-">issueOrder</a></span>(java.lang.String&nbsp;productCode,
          int&nbsp;quantity,
          double&nbsp;pricePerUnit)</code>
<div class="block">This method issues an order of <quantity> units of product with given <productCode>, each unit will be payed
 <pricePerUnit> to the supplier.</div>
</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>it.polito.ezshop.data.User</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../it/polito/ezshop/data/EZShop.html#login-java.lang.String-java.lang.String-">login</a></span>(java.lang.String&nbsp;username,
     java.lang.String&nbsp;password)</code>
<div class="block">This method lets a user with given username and password login into the system</div>
</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../it/polito/ezshop/data/EZShop.html#logout--">logout</a></span>()</code>
<div class="block">This method makes a user to logout from the system</div>
</td>
</tr>
<tr id="i33" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../it/polito/ezshop/data/EZShop.html#modifyCustomer-java.lang.Integer-java.lang.String-java.lang.String-">modifyCustomer</a></span>(java.lang.Integer&nbsp;id,
              java.lang.String&nbsp;newCustomerName,
              java.lang.String&nbsp;newCustomerCard)</code>
<div class="block">This method updates the data of a customer with given <id>.</div>
</td>
</tr>
<tr id="i34" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../it/polito/ezshop/data/EZShop.html#modifyPointsOnCard-java.lang.String-int-">modifyPointsOnCard</a></span>(java.lang.String&nbsp;customerCard,
                  int&nbsp;pointsToBeAdded)</code>
<div class="block">This method updates the points on a card adding to the number of points available on the card the value assumed by
 <pointsToBeAdded>.</div>
</td>
</tr>
<tr id="i35" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../it/polito/ezshop/data/EZShop.html#payOrder-java.lang.Integer-">payOrder</a></span>(java.lang.Integer&nbsp;orderId)</code>
<div class="block">This method change the status the order with given <orderId> into the "PAYED" state.</div>
</td>
</tr>
<tr id="i36" class="altColor">
<td class="colFirst"><code>java.lang.Integer</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../it/polito/ezshop/data/EZShop.html#payOrderFor-java.lang.String-int-double-">payOrderFor</a></span>(java.lang.String&nbsp;productCode,
           int&nbsp;quantity,
           double&nbsp;pricePerUnit)</code>
<div class="block">This method directly orders and pays <quantity> units of product with given <productCode>, each unit will be payed
 <pricePerUnit> to the supplier.</div>
</td>
</tr>
<tr id="i37" class="rowColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../it/polito/ezshop/data/EZShop.html#receiveCashPayment-java.lang.Integer-double-">receiveCashPayment</a></span>(java.lang.Integer&nbsp;ticketNumber,
                  double&nbsp;cash)</code>
<div class="block">This method record the payment of a sale transaction with cash and returns the change (if present).</div>
</td>
</tr>
<tr id="i38" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../it/polito/ezshop/data/EZShop.html#receiveCreditCardPayment-java.lang.Integer-java.lang.String-">receiveCreditCardPayment</a></span>(java.lang.Integer&nbsp;ticketNumber,
                        java.lang.String&nbsp;creditCard)</code>
<div class="block">This method record the payment of a sale with credit card.</div>
</td>
</tr>
<tr id="i39" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../it/polito/ezshop/data/EZShop.html#recordBalanceUpdate-double-">recordBalanceUpdate</a></span>(double&nbsp;toBeAdded)</code>
<div class="block">This method record a balance update.</div>
</td>
</tr>
<tr id="i40" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../it/polito/ezshop/data/EZShop.html#recordOrderArrival-java.lang.Integer-">recordOrderArrival</a></span>(java.lang.Integer&nbsp;orderId)</code>
<div class="block">This method records the arrival of an order with given <orderId>.</div>
</td>
</tr>
<tr id="i41" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../it/polito/ezshop/data/EZShop.html#reset--">reset</a></span>()</code>
<div class="block">This method should reset the application to its base state: balance zero, no transacations, no products</div>
</td>
</tr>
<tr id="i42" class="altColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../it/polito/ezshop/data/EZShop.html#returnCashPayment-java.lang.Integer-">returnCashPayment</a></span>(java.lang.Integer&nbsp;returnId)</code>
<div class="block">This method record the payment of a closed return transaction with given id.</div>
</td>
</tr>
<tr id="i43" class="rowColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../it/polito/ezshop/data/EZShop.html#returnCreditCardPayment-java.lang.Integer-java.lang.String-">returnCreditCardPayment</a></span>(java.lang.Integer&nbsp;returnId,
                       java.lang.String&nbsp;creditCard)</code>
<div class="block">This method record the payment of a return transaction to a credit card.</div>
</td>
</tr>
<tr id="i44" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../it/polito/ezshop/data/EZShop.html#returnProduct-java.lang.Integer-java.lang.String-int-">returnProduct</a></span>(java.lang.Integer&nbsp;returnId,
             java.lang.String&nbsp;productCode,
             int&nbsp;amount)</code>
<div class="block">This method adds a product to the return transaction
 The amount of units of product to be returned should not exceed the amount originally sold.</div>
</td>
</tr>
<tr id="i45" class="rowColor">
<td class="colFirst"><code>java.lang.Integer</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../it/polito/ezshop/data/EZShop.html#startReturnTransaction-java.lang.Integer-">startReturnTransaction</a></span>(java.lang.Integer&nbsp;saleNumber)</code>
<div class="block">This method starts a new return transaction for units of products that have already been sold and payed.</div>
</td>
</tr>
<tr id="i46" class="altColor">
<td class="colFirst"><code>java.lang.Integer</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../it/polito/ezshop/data/EZShop.html#startSaleTransaction--">startSaleTransaction</a></span>()</code>
<div class="block">This method starts a new sale transaction and returns its unique identifier.</div>
</td>
</tr>
<tr id="i47" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../it/polito/ezshop/data/EZShop.html#updatePosition-java.lang.Integer-java.lang.String-">updatePosition</a></span>(java.lang.Integer&nbsp;productId,
              java.lang.String&nbsp;newPos)</code>
<div class="block">This method assign a new position to the product with given product id.</div>
</td>
</tr>
<tr id="i48" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../it/polito/ezshop/data/EZShop.html#updateProduct-java.lang.Integer-java.lang.String-java.lang.String-double-java.lang.String-">updateProduct</a></span>(java.lang.Integer&nbsp;id,
             java.lang.String&nbsp;newDescription,
             java.lang.String&nbsp;newCode,
             double&nbsp;newPrice,
             java.lang.String&nbsp;newNote)</code>
<div class="block">This method updates the product id with given barcode and id.</div>
</td>
</tr>
<tr id="i49" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../it/polito/ezshop/data/EZShop.html#updateQuantity-java.lang.Integer-int-">updateQuantity</a></span>(java.lang.Integer&nbsp;productId,
              int&nbsp;toBeAdded)</code>
<div class="block">This method updates the quantity of product available in store.</div>
</td>
</tr>
<tr id="i50" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../it/polito/ezshop/data/EZShop.html#updateUserRights-java.lang.Integer-java.lang.String-">updateUserRights</a></span>(java.lang.Integer&nbsp;id,
                java.lang.String&nbsp;role)</code>
<div class="block">This method updates the role of a user with given id.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="EZShop--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>EZShop</h4>
<pre>public&nbsp;EZShop()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="reset--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reset</h4>
<pre>public&nbsp;void&nbsp;reset()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></span></div>
<div class="block">This method should reset the application to its base state: balance zero, no transacations, no products</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>reset</code>&nbsp;in interface&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></dd>
</dl>
</li>
</ul>
<a name="createUser-java.lang.String-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createUser</h4>
<pre>public&nbsp;java.lang.Integer&nbsp;createUser(java.lang.String&nbsp;username,
                                    java.lang.String&nbsp;password,
                                    java.lang.String&nbsp;role)
                             throws it.polito.ezshop.exceptions.InvalidUsernameException,
                                    it.polito.ezshop.exceptions.InvalidPasswordException,
                                    it.polito.ezshop.exceptions.InvalidRoleException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></span></div>
<div class="block">This method creates a new user with given username, password and role. The returned value is a unique identifier
 for the new user.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>createUser</code>&nbsp;in interface&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>username</code> - the username of the new user. This value should be unique and not empty.</dd>
<dd><code>password</code> - the password of the new user. This value should not be empty.</dd>
<dd><code>role</code> - the role of the new user. This value should not be empty and it should assume
             one of the following values : "Administrator", "Cashier", "ShopManager"</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The id of the new user ( > 0 ).
          -1 if there is an error while saving the user or if another user with the same username exists</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>it.polito.ezshop.exceptions.InvalidUsernameException</code> - If the username has an invalid value (empty or null)</dd>
<dd><code>it.polito.ezshop.exceptions.InvalidPasswordException</code> - If the password has an invalid value (empty or null)</dd>
<dd><code>it.polito.ezshop.exceptions.InvalidRoleException</code> - If the role has an invalid value (empty, null or not among the set of admissible values)</dd>
</dl>
</li>
</ul>
<a name="deleteUser-java.lang.Integer-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteUser</h4>
<pre>public&nbsp;boolean&nbsp;deleteUser(java.lang.Integer&nbsp;id)
                   throws it.polito.ezshop.exceptions.InvalidUserIdException,
                          it.polito.ezshop.exceptions.UnauthorizedException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></span></div>
<div class="block">This method deletes the user with given id. It can be invoked only after a user with role "Administrator" is
 logged in.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>deleteUser</code>&nbsp;in interface&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - the user id, this value should not be less than or equal to 0 or null.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the user was deleted
          false if the user cannot be deleted</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>it.polito.ezshop.exceptions.InvalidUserIdException</code> - if id is less than or equal to 0 or if it is null.</dd>
<dd><code>it.polito.ezshop.exceptions.UnauthorizedException</code> - if there is no logged user or if it has not the rights to perform the operation</dd>
</dl>
</li>
</ul>
<a name="getAllUsers--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAllUsers</h4>
<pre>public&nbsp;java.util.List&lt;it.polito.ezshop.data.User&gt;&nbsp;getAllUsers()
                                                       throws it.polito.ezshop.exceptions.UnauthorizedException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></span></div>
<div class="block">This method returns the list of all registered users. It can be invoked only after a user with role "Administrator" is
 logged in.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>getAllUsers</code>&nbsp;in interface&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a list of all registered users. If there are no users the list should be empty</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>it.polito.ezshop.exceptions.UnauthorizedException</code> - if there is no logged user or if it has not the rights to perform the operation</dd>
</dl>
</li>
</ul>
<a name="getUser-java.lang.Integer-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUser</h4>
<pre>public&nbsp;it.polito.ezshop.data.User&nbsp;getUser(java.lang.Integer&nbsp;id)
                                   throws it.polito.ezshop.exceptions.InvalidUserIdException,
                                          it.polito.ezshop.exceptions.UnauthorizedException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></span></div>
<div class="block">This method returns a User object with given id. It can be invoked only after a user with role "Administrator" is
 logged in.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>getUser</code>&nbsp;in interface&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - the id of the user</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the requested user if it exists, null otherwise</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>it.polito.ezshop.exceptions.InvalidUserIdException</code> - if id is less than or equal to zero or if it is null</dd>
<dd><code>it.polito.ezshop.exceptions.UnauthorizedException</code> - if there is no logged user or if it has not the rights to perform the operation</dd>
</dl>
</li>
</ul>
<a name="updateUserRights-java.lang.Integer-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateUserRights</h4>
<pre>public&nbsp;boolean&nbsp;updateUserRights(java.lang.Integer&nbsp;id,
                                java.lang.String&nbsp;role)
                         throws it.polito.ezshop.exceptions.InvalidUserIdException,
                                it.polito.ezshop.exceptions.InvalidRoleException,
                                it.polito.ezshop.exceptions.UnauthorizedException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></span></div>
<div class="block">This method updates the role of a user with given id. It can be invoked only after a user with role "Administrator" is
 logged in.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>updateUserRights</code>&nbsp;in interface&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - the id of the user</dd>
<dd><code>role</code> - the new role the user should be assigned to</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the update was successful, false if the user does not exist</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>it.polito.ezshop.exceptions.InvalidUserIdException</code> - if the user Id is less than or equal to 0 or if it is null</dd>
<dd><code>it.polito.ezshop.exceptions.InvalidRoleException</code> - if the new role is empty, null or not among one of the following : {"Administrator", "Cashier", "ShopManager"}</dd>
<dd><code>it.polito.ezshop.exceptions.UnauthorizedException</code> - if there is no logged user or if it has not the rights to perform the operation</dd>
</dl>
</li>
</ul>
<a name="login-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>login</h4>
<pre>public&nbsp;it.polito.ezshop.data.User&nbsp;login(java.lang.String&nbsp;username,
                                        java.lang.String&nbsp;password)
                                 throws it.polito.ezshop.exceptions.InvalidUsernameException,
                                        it.polito.ezshop.exceptions.InvalidPasswordException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></span></div>
<div class="block">This method lets a user with given username and password login into the system</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>login</code>&nbsp;in interface&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>username</code> - the username of the user</dd>
<dd><code>password</code> - the password of the user</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an object of class User filled with the logged user's data if login is successful, null otherwise ( wrong credentials or db problems)</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>it.polito.ezshop.exceptions.InvalidUsernameException</code> - if the username is empty or null</dd>
<dd><code>it.polito.ezshop.exceptions.InvalidPasswordException</code> - if the password is empty or null</dd>
</dl>
</li>
</ul>
<a name="logout--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logout</h4>
<pre>public&nbsp;boolean&nbsp;logout()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></span></div>
<div class="block">This method makes a user to logout from the system</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>logout</code>&nbsp;in interface&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the logout is successful, false otherwise (there is no logged user)</dd>
</dl>
</li>
</ul>
<a name="createProductType-java.lang.String-java.lang.String-double-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createProductType</h4>
<pre>public&nbsp;java.lang.Integer&nbsp;createProductType(java.lang.String&nbsp;description,
                                           java.lang.String&nbsp;productCode,
                                           double&nbsp;pricePerUnit,
                                           java.lang.String&nbsp;note)
                                    throws it.polito.ezshop.exceptions.InvalidProductDescriptionException,
                                           it.polito.ezshop.exceptions.InvalidProductCodeException,
                                           it.polito.ezshop.exceptions.InvalidPricePerUnitException,
                                           it.polito.ezshop.exceptions.UnauthorizedException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></span></div>
<div class="block">This method creates a product type and returns its unique identifier. It can be invoked only after a user with role "Administrator"
 or "ShopManager" is logged in.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>createProductType</code>&nbsp;in interface&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>description</code> - the description of product to be created</dd>
<dd><code>productCode</code> - the unique barcode of the product</dd>
<dd><code>pricePerUnit</code> - the price per single unit of product</dd>
<dd><code>note</code> - the notes on the product (if null an empty string should be saved as description)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The unique identifier of the new product type ( > 0 ).
         -1 if there is an error while saving the product type or if it exists a product with the same barcode</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>it.polito.ezshop.exceptions.InvalidProductDescriptionException</code> - if the product description is null or empty</dd>
<dd><code>it.polito.ezshop.exceptions.InvalidProductCodeException</code> - if the product code is null or empty, if it is not a number or if it is not a valid barcode</dd>
<dd><code>it.polito.ezshop.exceptions.InvalidPricePerUnitException</code> - if the price per unit si less than or equal to 0</dd>
<dd><code>it.polito.ezshop.exceptions.UnauthorizedException</code> - if there is no logged user or if it has not the rights to perform the operation</dd>
</dl>
</li>
</ul>
<a name="updateProduct-java.lang.Integer-java.lang.String-java.lang.String-double-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateProduct</h4>
<pre>public&nbsp;boolean&nbsp;updateProduct(java.lang.Integer&nbsp;id,
                             java.lang.String&nbsp;newDescription,
                             java.lang.String&nbsp;newCode,
                             double&nbsp;newPrice,
                             java.lang.String&nbsp;newNote)
                      throws it.polito.ezshop.exceptions.InvalidProductIdException,
                             it.polito.ezshop.exceptions.InvalidProductDescriptionException,
                             it.polito.ezshop.exceptions.InvalidProductCodeException,
                             it.polito.ezshop.exceptions.InvalidPricePerUnitException,
                             it.polito.ezshop.exceptions.UnauthorizedException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></span></div>
<div class="block">This method updates the product id with given barcode and id. It can be invoked only after a user with role "Administrator"
 or "ShopManager" is logged in.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>updateProduct</code>&nbsp;in interface&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - the type of product to be updated</dd>
<dd><code>newDescription</code> - the new product type</dd>
<dd><code>newCode</code> - the new product code</dd>
<dd><code>newPrice</code> - the new product price</dd>
<dd><code>newNote</code> - the new product notes</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the update is successful
          false if the update is not successful (no products with given product id or another product already has
              the same barcode)</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>it.polito.ezshop.exceptions.InvalidProductIdException</code> - if the product id is less than or equal to 0 or if it is null</dd>
<dd><code>it.polito.ezshop.exceptions.InvalidProductDescriptionException</code> - if the product description is null or empty</dd>
<dd><code>it.polito.ezshop.exceptions.InvalidProductCodeException</code> - if the product code is null or empty, if it is not a number or if it is not a valid barcode</dd>
<dd><code>it.polito.ezshop.exceptions.InvalidPricePerUnitException</code> - if the price per unit si less than or equal to 0</dd>
<dd><code>it.polito.ezshop.exceptions.UnauthorizedException</code> - if there is no logged user or if it has not the rights to perform the operation</dd>
</dl>
</li>
</ul>
<a name="deleteProductType-java.lang.Integer-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteProductType</h4>
<pre>public&nbsp;boolean&nbsp;deleteProductType(java.lang.Integer&nbsp;id)
                          throws it.polito.ezshop.exceptions.InvalidProductIdException,
                                 it.polito.ezshop.exceptions.UnauthorizedException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></span></div>
<div class="block">This method deletes a product with given product id. It can be invoked only after a user with role "Administrator"
 or "ShopManager" is logged in.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>deleteProductType</code>&nbsp;in interface&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - the id of the product to be deleted</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the product was deleted, false otherwise</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>it.polito.ezshop.exceptions.InvalidProductIdException</code> - if the product id is less than or equal to 0 or if it is null</dd>
<dd><code>it.polito.ezshop.exceptions.UnauthorizedException</code> - if there is no logged user or if it has not the rights to perform the operation</dd>
</dl>
</li>
</ul>
<a name="getAllProductTypes--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAllProductTypes</h4>
<pre>public&nbsp;java.util.List&lt;it.polito.ezshop.data.ProductType&gt;&nbsp;getAllProductTypes()
                                                                     throws it.polito.ezshop.exceptions.UnauthorizedException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></span></div>
<div class="block">This method returns the list of all registered product types. It can be invoked only after a user with role "Administrator",
 "ShopManager" or "Cashier" is logged in.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>getAllProductTypes</code>&nbsp;in interface&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a list containing all saved product types</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>it.polito.ezshop.exceptions.UnauthorizedException</code> - if there is no logged user or if it has not the rights to perform the operation</dd>
</dl>
</li>
</ul>
<a name="getProductTypeByBarCode-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getProductTypeByBarCode</h4>
<pre>public&nbsp;it.polito.ezshop.data.ProductType&nbsp;getProductTypeByBarCode(java.lang.String&nbsp;barCode)
                                                          throws it.polito.ezshop.exceptions.InvalidProductCodeException,
                                                                 it.polito.ezshop.exceptions.UnauthorizedException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></span></div>
<div class="block">This method returns a product type with given barcode. It can be invoked only after a user with role "Administrator"
 or "ShopManager" is logged in.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>getProductTypeByBarCode</code>&nbsp;in interface&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>barCode</code> - the unique barCode of a product</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the product type with given barCode if present, null otherwise</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>it.polito.ezshop.exceptions.InvalidProductCodeException</code> - if barCode is not a valid bar code, if is it empty or if it is null</dd>
<dd><code>it.polito.ezshop.exceptions.UnauthorizedException</code> - if there is no logged user or if it has not the rights to perform the operation</dd>
</dl>
</li>
</ul>
<a name="getProductTypesByDescription-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getProductTypesByDescription</h4>
<pre>public&nbsp;java.util.List&lt;it.polito.ezshop.data.ProductType&gt;&nbsp;getProductTypesByDescription(java.lang.String&nbsp;description)
                                                                               throws it.polito.ezshop.exceptions.UnauthorizedException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></span></div>
<div class="block">This method returns a list of all products with a description containing the string received as parameter. It can be invoked only after a user with role "Administrator"
 or "ShopManager" is logged in.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>getProductTypesByDescription</code>&nbsp;in interface&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>description</code> - the description (or part of it) of the products we are searching for.
                    Null should be considered as the empty string.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a list of products containing the requested string in their description</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>it.polito.ezshop.exceptions.UnauthorizedException</code> - if there is no logged user or if it has not the rights to perform the operation</dd>
</dl>
</li>
</ul>
<a name="updateQuantity-java.lang.Integer-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateQuantity</h4>
<pre>public&nbsp;boolean&nbsp;updateQuantity(java.lang.Integer&nbsp;productId,
                              int&nbsp;toBeAdded)
                       throws it.polito.ezshop.exceptions.InvalidProductIdException,
                              it.polito.ezshop.exceptions.UnauthorizedException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></span></div>
<div class="block">This method updates the quantity of product available in store. <toBeAdded> can be negative but the final updated
 quantity cannot be negative. The product should have a location assigned to it.
 It can be invoked only after a user with role "Administrator" or "ShopManager" is logged in.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>updateQuantity</code>&nbsp;in interface&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>productId</code> - the id of the product to be updated</dd>
<dd><code>toBeAdded</code> - the quantity to be added. If negative it decrease the available quantity of <toBeAdded> elements.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the update was successful
          false if the product does not exists, if <toBeAdded> is negative and the resulting amount would be
          negative too or if the product type has not an assigned location.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>it.polito.ezshop.exceptions.InvalidProductIdException</code> - if the product id is less than or equal to 0 or if it is null</dd>
<dd><code>it.polito.ezshop.exceptions.UnauthorizedException</code> - if there is no logged user or if it has not the rights to perform the operation</dd>
</dl>
</li>
</ul>
<a name="updatePosition-java.lang.Integer-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updatePosition</h4>
<pre>public&nbsp;boolean&nbsp;updatePosition(java.lang.Integer&nbsp;productId,
                              java.lang.String&nbsp;newPos)
                       throws it.polito.ezshop.exceptions.InvalidProductIdException,
                              it.polito.ezshop.exceptions.InvalidLocationException,
                              it.polito.ezshop.exceptions.UnauthorizedException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></span></div>
<div class="block">This method assign a new position to the product with given product id. The position has the following format :
 <aisleNumber>-<rackAlphabeticIdentifier>-<levelNumber>
 The position should be unique (unless it is an empty string, in this case this means that the product type
 has not an assigned location). If <newPos> is null or empty it should reset the position of given product type.
 It can be invoked only after a user with role "Administrator" or "ShopManager" is logged in.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>updatePosition</code>&nbsp;in interface&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>productId</code> - the id of the product to be updated</dd>
<dd><code>newPos</code> - the new position the product should be placed to.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the update was successful
          false if the product does not exists or if <newPos> is already assigned to another product</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>it.polito.ezshop.exceptions.InvalidProductIdException</code> - if the product id is less than or equal to 0 or if it is null</dd>
<dd><code>it.polito.ezshop.exceptions.InvalidLocationException</code> - if the product location is in an invalid format (not <aisleNumber>-<rackAlphabeticIdentifier>-<levelNumber>)</dd>
<dd><code>it.polito.ezshop.exceptions.UnauthorizedException</code> - if there is no logged user or if it has not the rights to perform the operation</dd>
</dl>
</li>
</ul>
<a name="issueOrder-java.lang.String-int-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>issueOrder</h4>
<pre>public&nbsp;java.lang.Integer&nbsp;issueOrder(java.lang.String&nbsp;productCode,
                                    int&nbsp;quantity,
                                    double&nbsp;pricePerUnit)
                             throws it.polito.ezshop.exceptions.InvalidProductCodeException,
                                    it.polito.ezshop.exceptions.InvalidQuantityException,
                                    it.polito.ezshop.exceptions.InvalidPricePerUnitException,
                                    it.polito.ezshop.exceptions.UnauthorizedException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></span></div>
<div class="block">This method issues an order of <quantity> units of product with given <productCode>, each unit will be payed
 <pricePerUnit> to the supplier. <pricePerUnit> can differ from the re-selling price of the same product. The
 product might have no location assigned in this step.
 It can be invoked only after a user with role "Administrator" or "ShopManager" is logged in.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>issueOrder</code>&nbsp;in interface&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>productCode</code> - the code of the product that we should order as soon as possible</dd>
<dd><code>quantity</code> - the quantity of product that we should order</dd>
<dd><code>pricePerUnit</code> - the price to correspond to the supplier (!= than the resale price of the shop) per unit of
                     product</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the id of the order (> 0)
          -1 if the product does not exists, if there are problems with the db</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>it.polito.ezshop.exceptions.InvalidProductCodeException</code> - if the productCode is not a valid bar code, if it is null or if it is empty</dd>
<dd><code>it.polito.ezshop.exceptions.InvalidQuantityException</code> - if the quantity is less than or equal to 0</dd>
<dd><code>it.polito.ezshop.exceptions.InvalidPricePerUnitException</code> - if the price per unit of product is less than or equal to 0</dd>
<dd><code>it.polito.ezshop.exceptions.UnauthorizedException</code> - if there is no logged user or if it has not the rights to perform the operation</dd>
</dl>
</li>
</ul>
<a name="payOrderFor-java.lang.String-int-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>payOrderFor</h4>
<pre>public&nbsp;java.lang.Integer&nbsp;payOrderFor(java.lang.String&nbsp;productCode,
                                     int&nbsp;quantity,
                                     double&nbsp;pricePerUnit)
                              throws it.polito.ezshop.exceptions.InvalidProductCodeException,
                                     it.polito.ezshop.exceptions.InvalidQuantityException,
                                     it.polito.ezshop.exceptions.InvalidPricePerUnitException,
                                     it.polito.ezshop.exceptions.UnauthorizedException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></span></div>
<div class="block">This method directly orders and pays <quantity> units of product with given <productCode>, each unit will be payed
 <pricePerUnit> to the supplier. <pricePerUnit> can differ from the re-selling price of the same product. The
 product might have no location assigned in this step.
 This method affects the balance of the system.
 It can be invoked only after a user with role "Administrator" or "ShopManager" is logged in.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>payOrderFor</code>&nbsp;in interface&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>productCode</code> - the code of the product to be ordered</dd>
<dd><code>quantity</code> - the quantity of product to be ordered</dd>
<dd><code>pricePerUnit</code> - the price to correspond to the supplier (!= than the resale price of the shop) per unit of
                     product</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the id of the order (> 0)
          -1 if the product does not exists, if the balance is not enough to satisfy the order, if there are some
          problems with the db</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>it.polito.ezshop.exceptions.InvalidProductCodeException</code> - if the productCode is not a valid bar code, if it is null or if it is empty</dd>
<dd><code>it.polito.ezshop.exceptions.InvalidQuantityException</code> - if the quantity is less than or equal to 0</dd>
<dd><code>it.polito.ezshop.exceptions.InvalidPricePerUnitException</code> - if the price per unit of product is less than or equal to 0</dd>
<dd><code>it.polito.ezshop.exceptions.UnauthorizedException</code> - if there is no logged user or if it has not the rights to perform the operation</dd>
</dl>
</li>
</ul>
<a name="payOrder-java.lang.Integer-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>payOrder</h4>
<pre>public&nbsp;boolean&nbsp;payOrder(java.lang.Integer&nbsp;orderId)
                 throws it.polito.ezshop.exceptions.InvalidOrderIdException,
                        it.polito.ezshop.exceptions.UnauthorizedException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></span></div>
<div class="block">This method change the status the order with given <orderId> into the "PAYED" state. The order should be either
 issued (in this case the status changes) or payed (in this case the method has no effect).
 This method affects the balance of the system.
 It can be invoked only after a user with role "Administrator" or "ShopManager" is logged in.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>payOrder</code>&nbsp;in interface&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>orderId</code> - the id of the order to be ORDERED</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the order has been successfully ordered
          false if the order does not exist or if it was not in an ISSUED/ORDERED state</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>it.polito.ezshop.exceptions.InvalidOrderIdException</code> - if the order id is less than or equal to 0 or if it is null.</dd>
<dd><code>it.polito.ezshop.exceptions.UnauthorizedException</code> - if there is no logged user or if it has not the rights to perform the operation</dd>
</dl>
</li>
</ul>
<a name="recordOrderArrival-java.lang.Integer-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>recordOrderArrival</h4>
<pre>public&nbsp;boolean&nbsp;recordOrderArrival(java.lang.Integer&nbsp;orderId)
                           throws it.polito.ezshop.exceptions.InvalidOrderIdException,
                                  it.polito.ezshop.exceptions.UnauthorizedException,
                                  it.polito.ezshop.exceptions.InvalidLocationException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></span></div>
<div class="block">This method records the arrival of an order with given <orderId>. This method changes the quantity of available product.
 The product type affected must have a location registered. The order should be either in the PAYED state (in this
 case the state will change to the COMPLETED one and the quantity of product type will be updated) or in the
 COMPLETED one (in this case this method will have no effect at all).
 It can be invoked only after a user with role "Administrator" or "ShopManager" is logged in.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>recordOrderArrival</code>&nbsp;in interface&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>orderId</code> - the id of the order that has arrived</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the operation was successful
          false if the order does not exist or if it was not in an ORDERED/COMPLETED state</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>it.polito.ezshop.exceptions.InvalidOrderIdException</code> - if the order id is less than or equal to 0 or if it is null.</dd>
<dd><code>it.polito.ezshop.exceptions.UnauthorizedException</code> - if there is no logged user or if it has not the rights to perform the operation</dd>
<dd><code>it.polito.ezshop.exceptions.InvalidLocationException</code> - if the ordered product type has not an assigned location.</dd>
</dl>
</li>
</ul>
<a name="getAllOrders--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAllOrders</h4>
<pre>public&nbsp;java.util.List&lt;it.polito.ezshop.data.Order&gt;&nbsp;getAllOrders()
                                                         throws it.polito.ezshop.exceptions.UnauthorizedException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></span></div>
<div class="block">This method return the list of all orders ISSUED, ORDERED and COMLPETED.
 It can be invoked only after a user with role "Administrator" or "ShopManager" is logged in.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>getAllOrders</code>&nbsp;in interface&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a list containing all orders</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>it.polito.ezshop.exceptions.UnauthorizedException</code> - if there is no logged user or if it has not the rights to perform the operation</dd>
</dl>
</li>
</ul>
<a name="defineCustomer-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>defineCustomer</h4>
<pre>public&nbsp;java.lang.Integer&nbsp;defineCustomer(java.lang.String&nbsp;customerName)
                                 throws it.polito.ezshop.exceptions.InvalidCustomerNameException,
                                        it.polito.ezshop.exceptions.UnauthorizedException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></span></div>
<div class="block">This method saves a new customer into the system. The customer's name should be unique.
 It can be invoked only after a user with role "Administrator", "ShopManager" or "Cashier" is logged in.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>defineCustomer</code>&nbsp;in interface&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>customerName</code> - the name of the customer to be registered</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the id (>0) of the new customer if successful, -1 otherwise</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>it.polito.ezshop.exceptions.InvalidCustomerNameException</code> - if the customer name is empty or null</dd>
<dd><code>it.polito.ezshop.exceptions.UnauthorizedException</code> - if there is no logged user or if it has not the rights to perform the operation</dd>
</dl>
</li>
</ul>
<a name="modifyCustomer-java.lang.Integer-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>modifyCustomer</h4>
<pre>public&nbsp;boolean&nbsp;modifyCustomer(java.lang.Integer&nbsp;id,
                              java.lang.String&nbsp;newCustomerName,
                              java.lang.String&nbsp;newCustomerCard)
                       throws it.polito.ezshop.exceptions.InvalidCustomerNameException,
                              it.polito.ezshop.exceptions.InvalidCustomerCardException,
                              it.polito.ezshop.exceptions.InvalidCustomerIdException,
                              it.polito.ezshop.exceptions.UnauthorizedException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></span></div>
<div class="block">This method updates the data of a customer with given <id>. This method can be used to assign/delete a card to a
 customer. If <newCustomerCard> has a numeric value than this value will be assigned as new card code, if it is an
 empty string then any existing card code connected to the customer will be removed and, finally, it it assumes the
 null value then the card code related to the customer should not be affected from the update. The card code should
 be unique and should be a string of 10 digits.
 It can be invoked only after a user with role "Administrator", "ShopManager" or "Cashier" is logged in.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>modifyCustomer</code>&nbsp;in interface&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - the id of the customer to be updated</dd>
<dd><code>newCustomerName</code> - the new name to be assigned</dd>
<dd><code>newCustomerCard</code> - the new card code to be assigned. If it is empty it means that the card must be deleted,
                        if it is null then we don't want to update the cardNumber</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the update is successful
          false if the update fails ( cardCode assigned to another user, db unreacheable)</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>it.polito.ezshop.exceptions.InvalidCustomerNameException</code> - if the customer name is empty or null</dd>
<dd><code>it.polito.ezshop.exceptions.InvalidCustomerCardException</code> - if the customer card is empty, null or if it is not in a valid format (string with 10 digits)</dd>
<dd><code>it.polito.ezshop.exceptions.UnauthorizedException</code> - if there is no logged user or if it has not the rights to perform the operation</dd>
<dd><code>it.polito.ezshop.exceptions.InvalidCustomerIdException</code></dd>
</dl>
</li>
</ul>
<a name="deleteCustomer-java.lang.Integer-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteCustomer</h4>
<pre>public&nbsp;boolean&nbsp;deleteCustomer(java.lang.Integer&nbsp;id)
                       throws it.polito.ezshop.exceptions.InvalidCustomerIdException,
                              it.polito.ezshop.exceptions.UnauthorizedException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></span></div>
<div class="block">This method deletes a customer with given id from the system.
 It can be invoked only after a user with role "Administrator", "ShopManager" or "Cashier" is logged in.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>deleteCustomer</code>&nbsp;in interface&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - the id of the customer to be deleted</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the customer was successfully deleted
          false if the user does not exists or if we have problems to reach the db</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>it.polito.ezshop.exceptions.InvalidCustomerIdException</code> - if the id is null, less than or equal to 0.</dd>
<dd><code>it.polito.ezshop.exceptions.UnauthorizedException</code> - if there is no logged user or if it has not the rights to perform the operation</dd>
</dl>
</li>
</ul>
<a name="getCustomer-java.lang.Integer-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCustomer</h4>
<pre>public&nbsp;it.polito.ezshop.data.Customer&nbsp;getCustomer(java.lang.Integer&nbsp;id)
                                           throws it.polito.ezshop.exceptions.InvalidCustomerIdException,
                                                  it.polito.ezshop.exceptions.UnauthorizedException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></span></div>
<div class="block">This method returns a customer with given id.
 It can be invoked only after a user with role "Administrator", "ShopManager" or "Cashier" is logged in.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>getCustomer</code>&nbsp;in interface&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - the id of the customer</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the customer with given id
          null if that user does not exists</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>it.polito.ezshop.exceptions.InvalidCustomerIdException</code> - if the id is null, less than or equal to 0.</dd>
<dd><code>it.polito.ezshop.exceptions.UnauthorizedException</code> - if there is no logged user or if it has not the rights to perform the operation</dd>
</dl>
</li>
</ul>
<a name="getAllCustomers--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAllCustomers</h4>
<pre>public&nbsp;java.util.List&lt;it.polito.ezshop.data.Customer&gt;&nbsp;getAllCustomers()
                                                               throws it.polito.ezshop.exceptions.UnauthorizedException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></span></div>
<div class="block">This method returns a list containing all registered users.
 It can be invoked only after a user with role "Administrator", "ShopManager" or "Cashier" is logged in.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>getAllCustomers</code>&nbsp;in interface&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the list of all the customers registered</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>it.polito.ezshop.exceptions.UnauthorizedException</code> - if there is no logged user or if it has not the rights to perform the operation</dd>
</dl>
</li>
</ul>
<a name="createCard--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createCard</h4>
<pre>public&nbsp;java.lang.String&nbsp;createCard()
                            throws it.polito.ezshop.exceptions.UnauthorizedException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></span></div>
<div class="block">This method returns a string containing the code of a new assignable card.
 It can be invoked only after a user with role "Administrator", "ShopManager" or "Cashier" is logged in.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>createCard</code>&nbsp;in interface&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the code of a new available card. An empty string if the db is unreachable</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>it.polito.ezshop.exceptions.UnauthorizedException</code> - if there is no logged user or if it has not the rights to perform the operation</dd>
</dl>
</li>
</ul>
<a name="attachCardToCustomer-java.lang.String-java.lang.Integer-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>attachCardToCustomer</h4>
<pre>public&nbsp;boolean&nbsp;attachCardToCustomer(java.lang.String&nbsp;customerCard,
                                    java.lang.Integer&nbsp;customerId)
                             throws it.polito.ezshop.exceptions.InvalidCustomerIdException,
                                    it.polito.ezshop.exceptions.InvalidCustomerCardException,
                                    it.polito.ezshop.exceptions.UnauthorizedException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></span></div>
<div class="block">This method assigns a card with given card code to a customer with given identifier. A card with given card code
 can be assigned to one customer only.
 It can be invoked only after a user with role "Administrator", "ShopManager" or "Cashier" is logged in.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>attachCardToCustomer</code>&nbsp;in interface&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>customerCard</code> - the number of the card to be attached to a customer</dd>
<dd><code>customerId</code> - the id of the customer the card should be assigned to</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the operation was successful
          false if the card is already assigned to another user, if there is no customer with given id, if the db is unreachable</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>it.polito.ezshop.exceptions.InvalidCustomerIdException</code> - if the id is null, less than or equal to 0.</dd>
<dd><code>it.polito.ezshop.exceptions.InvalidCustomerCardException</code> - if the card is null, empty or in an invalid format</dd>
<dd><code>it.polito.ezshop.exceptions.UnauthorizedException</code> - if there is no logged user or if it has not the rights to perform the operation</dd>
</dl>
</li>
</ul>
<a name="modifyPointsOnCard-java.lang.String-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>modifyPointsOnCard</h4>
<pre>public&nbsp;boolean&nbsp;modifyPointsOnCard(java.lang.String&nbsp;customerCard,
                                  int&nbsp;pointsToBeAdded)
                           throws it.polito.ezshop.exceptions.InvalidCustomerCardException,
                                  it.polito.ezshop.exceptions.UnauthorizedException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></span></div>
<div class="block">This method updates the points on a card adding to the number of points available on the card the value assumed by
 <pointsToBeAdded>. The points on a card should always be greater than or equal to 0.
 It can be invoked only after a user with role "Administrator", "ShopManager" or "Cashier" is logged in.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>modifyPointsOnCard</code>&nbsp;in interface&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>customerCard</code> - the card the points should be added to</dd>
<dd><code>pointsToBeAdded</code> - the points to be added or subtracted ( this could assume a negative value)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the operation is successful
          false   if there is no card with given code,
                  if pointsToBeAdded is negative and there were not enough points on that card before this operation,
                  if we cannot reach the db.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>it.polito.ezshop.exceptions.InvalidCustomerCardException</code> - if the card is null, empty or in an invalid format</dd>
<dd><code>it.polito.ezshop.exceptions.UnauthorizedException</code> - if there is no logged user or if it has not the rights to perform the operation</dd>
</dl>
</li>
</ul>
<a name="startSaleTransaction--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startSaleTransaction</h4>
<pre>public&nbsp;java.lang.Integer&nbsp;startSaleTransaction()
                                       throws it.polito.ezshop.exceptions.UnauthorizedException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></span></div>
<div class="block">This method starts a new sale transaction and returns its unique identifier.
 It can be invoked only after a user with role "Administrator", "ShopManager" or "Cashier" is logged in.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>startSaleTransaction</code>&nbsp;in interface&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the id of the transaction (greater than or equal to 0)</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>it.polito.ezshop.exceptions.UnauthorizedException</code></dd>
</dl>
</li>
</ul>
<a name="addProductToSale-java.lang.Integer-java.lang.String-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addProductToSale</h4>
<pre>public&nbsp;boolean&nbsp;addProductToSale(java.lang.Integer&nbsp;transactionId,
                                java.lang.String&nbsp;productCode,
                                int&nbsp;amount)
                         throws it.polito.ezshop.exceptions.InvalidTransactionIdException,
                                it.polito.ezshop.exceptions.InvalidProductCodeException,
                                it.polito.ezshop.exceptions.InvalidQuantityException,
                                it.polito.ezshop.exceptions.UnauthorizedException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></span></div>
<div class="block">This method adds a product to a sale transaction decreasing the temporary amount of product available on the
 shelves for other customers.
 It can be invoked only after a user with role "Administrator", "ShopManager" or "Cashier" is logged in.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>addProductToSale</code>&nbsp;in interface&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>transactionId</code> - the id of the Sale transaction</dd>
<dd><code>productCode</code> - the barcode of the product to be added</dd>
<dd><code>amount</code> - the quantity of product to be added</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the operation is successful
          false   if the product code does not exist,
                  if the quantity of product cannot satisfy the request,
                  if the transaction id does not identify a started and open transaction.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>it.polito.ezshop.exceptions.InvalidTransactionIdException</code> - if the transaction id less than or equal to 0 or if it is null</dd>
<dd><code>it.polito.ezshop.exceptions.InvalidProductCodeException</code> - if the product code is empty, null or invalid</dd>
<dd><code>it.polito.ezshop.exceptions.InvalidQuantityException</code> - if the quantity is less than 0</dd>
<dd><code>it.polito.ezshop.exceptions.UnauthorizedException</code> - if there is no logged user or if it has not the rights to perform the operation</dd>
</dl>
</li>
</ul>
<a name="deleteProductFromSale-java.lang.Integer-java.lang.String-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteProductFromSale</h4>
<pre>public&nbsp;boolean&nbsp;deleteProductFromSale(java.lang.Integer&nbsp;transactionId,
                                     java.lang.String&nbsp;productCode,
                                     int&nbsp;amount)
                              throws it.polito.ezshop.exceptions.InvalidTransactionIdException,
                                     it.polito.ezshop.exceptions.InvalidProductCodeException,
                                     it.polito.ezshop.exceptions.InvalidQuantityException,
                                     it.polito.ezshop.exceptions.UnauthorizedException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></span></div>
<div class="block">This method deletes a product from a sale transaction increasing the temporary amount of product available on the
 shelves for other customers.
 It can be invoked only after a user with role "Administrator", "ShopManager" or "Cashier" is logged in.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>deleteProductFromSale</code>&nbsp;in interface&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>transactionId</code> - the id of the Sale transaction</dd>
<dd><code>productCode</code> - the barcode of the product to be deleted</dd>
<dd><code>amount</code> - the quantity of product to be deleted</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the operation is successful
          false   if the product code does not exist,
                  if the quantity of product cannot satisfy the request,
                  if the transaction id does not identify a started and open transaction.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>it.polito.ezshop.exceptions.InvalidTransactionIdException</code> - if the transaction id less than or equal to 0 or if it is null</dd>
<dd><code>it.polito.ezshop.exceptions.InvalidProductCodeException</code> - if the product code is empty, null or invalid</dd>
<dd><code>it.polito.ezshop.exceptions.InvalidQuantityException</code> - if the quantity is less than 0</dd>
<dd><code>it.polito.ezshop.exceptions.UnauthorizedException</code> - if there is no logged user or if it has not the rights to perform the operation</dd>
</dl>
</li>
</ul>
<a name="applyDiscountRateToProduct-java.lang.Integer-java.lang.String-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>applyDiscountRateToProduct</h4>
<pre>public&nbsp;boolean&nbsp;applyDiscountRateToProduct(java.lang.Integer&nbsp;transactionId,
                                          java.lang.String&nbsp;productCode,
                                          double&nbsp;discountRate)
                                   throws it.polito.ezshop.exceptions.InvalidTransactionIdException,
                                          it.polito.ezshop.exceptions.InvalidProductCodeException,
                                          it.polito.ezshop.exceptions.InvalidDiscountRateException,
                                          it.polito.ezshop.exceptions.UnauthorizedException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></span></div>
<div class="block">This method applies a discount rate to all units of a product type with given type in a sale transaction. The
 discount rate should be greater than or equal to 0 and less than 1.
 The sale transaction should be started and open.
 It can be invoked only after a user with role "Administrator", "ShopManager" or "Cashier" is logged in.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>applyDiscountRateToProduct</code>&nbsp;in interface&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>transactionId</code> - the id of the Sale transaction</dd>
<dd><code>productCode</code> - the barcode of the product to be discounted</dd>
<dd><code>discountRate</code> - the discount rate of the product</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the operation is successful
          false   if the product code does not exist,
                  if the transaction id does not identify a started and open transaction.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>it.polito.ezshop.exceptions.InvalidTransactionIdException</code> - if the transaction id less than or equal to 0 or if it is null</dd>
<dd><code>it.polito.ezshop.exceptions.InvalidProductCodeException</code> - if the product code is empty, null or invalid</dd>
<dd><code>it.polito.ezshop.exceptions.InvalidDiscountRateException</code> - if the discount rate is less than 0 or if it greater than or equal to 1.00</dd>
<dd><code>it.polito.ezshop.exceptions.UnauthorizedException</code> - if there is no logged user or if it has not the rights to perform the operation</dd>
</dl>
</li>
</ul>
<a name="applyDiscountRateToSale-java.lang.Integer-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>applyDiscountRateToSale</h4>
<pre>public&nbsp;boolean&nbsp;applyDiscountRateToSale(java.lang.Integer&nbsp;transactionId,
                                       double&nbsp;discountRate)
                                throws it.polito.ezshop.exceptions.InvalidTransactionIdException,
                                       it.polito.ezshop.exceptions.InvalidDiscountRateException,
                                       it.polito.ezshop.exceptions.UnauthorizedException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></span></div>
<div class="block">This method applies a discount rate to the whole sale transaction.
 The discount rate should be greater than or equal to 0 and less than 1.
 The sale transaction can be either started or closed but not already payed.
 It can be invoked only after a user with role "Administrator", "ShopManager" or "Cashier" is logged in.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>applyDiscountRateToSale</code>&nbsp;in interface&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>transactionId</code> - the id of the Sale transaction</dd>
<dd><code>discountRate</code> - the discount rate of the sale</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the operation is successful
          false if the transaction does not exists</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>it.polito.ezshop.exceptions.InvalidTransactionIdException</code> - if the transaction id less than or equal to 0 or if it is null</dd>
<dd><code>it.polito.ezshop.exceptions.InvalidDiscountRateException</code> - if the discount rate is less than 0 or if it greater than or equal to 1.00</dd>
<dd><code>it.polito.ezshop.exceptions.UnauthorizedException</code> - if there is no logged user or if it has not the rights to perform the operation</dd>
</dl>
</li>
</ul>
<a name="computePointsForSale-java.lang.Integer-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>computePointsForSale</h4>
<pre>public&nbsp;int&nbsp;computePointsForSale(java.lang.Integer&nbsp;transactionId)
                         throws it.polito.ezshop.exceptions.InvalidTransactionIdException,
                                it.polito.ezshop.exceptions.UnauthorizedException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></span></div>
<div class="block">This method returns the number of points granted by a specific sale transaction.
 Every 10€ the number of points is increased by 1 (i.e. 19.99€ returns 1 point, 20.00€ returns 2 points).
 If the transaction with given id does not exist then the number of points returned should be -1.
 The transaction may be in any state (open, closed, payed).
 It can be invoked only after a user with role "Administrator", "ShopManager" or "Cashier" is logged in.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>computePointsForSale</code>&nbsp;in interface&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>transactionId</code> - the id of the Sale transaction</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the points of the sale (1 point for each 10€) or -1 if the transaction does not exists</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>it.polito.ezshop.exceptions.InvalidTransactionIdException</code> - if the transaction id less than or equal to 0 or if it is null</dd>
<dd><code>it.polito.ezshop.exceptions.UnauthorizedException</code> - if there is no logged user or if it has not the rights to perform the operation</dd>
</dl>
</li>
</ul>
<a name="endSaleTransaction-java.lang.Integer-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>endSaleTransaction</h4>
<pre>public&nbsp;boolean&nbsp;endSaleTransaction(java.lang.Integer&nbsp;transactionId)
                           throws it.polito.ezshop.exceptions.InvalidTransactionIdException,
                                  it.polito.ezshop.exceptions.UnauthorizedException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></span></div>
<div class="block">This method closes an opened transaction. After this operation the
 transaction is persisted in the system's memory.
 It can be invoked only after a user with role "Administrator", "ShopManager" or "Cashier" is logged in.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>endSaleTransaction</code>&nbsp;in interface&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>transactionId</code> - the id of the Sale transaction</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true    if the transaction was successfully closed
          false   if the transaction does not exist,
                  if it has already been closed,
                  if there was a problem in registering the data</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>it.polito.ezshop.exceptions.InvalidTransactionIdException</code> - if the transaction id less than or equal to 0 or if it is null</dd>
<dd><code>it.polito.ezshop.exceptions.UnauthorizedException</code> - if there is no logged user or if it has not the rights to perform the operation</dd>
</dl>
</li>
</ul>
<a name="deleteSaleTransaction-java.lang.Integer-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteSaleTransaction</h4>
<pre>public&nbsp;boolean&nbsp;deleteSaleTransaction(java.lang.Integer&nbsp;saleNumber)
                              throws it.polito.ezshop.exceptions.InvalidTransactionIdException,
                                     it.polito.ezshop.exceptions.UnauthorizedException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></span></div>
<div class="block">This method deletes a sale transaction with given unique identifier from the system's data store.
 It can be invoked only after a user with role "Administrator", "ShopManager" or "Cashier" is logged in.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>deleteSaleTransaction</code>&nbsp;in interface&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>saleNumber</code> - the number of the transaction to be deleted</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the transaction has been successfully deleted,
          false   if the transaction doesn't exist,
                  if it has been payed,
                  if there are some problems with the db</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>it.polito.ezshop.exceptions.InvalidTransactionIdException</code> - if the transaction id number is less than or equal to 0 or if it is null</dd>
<dd><code>it.polito.ezshop.exceptions.UnauthorizedException</code> - if there is no logged user or if it has not the rights to perform the operation</dd>
</dl>
</li>
</ul>
<a name="getSaleTransaction-java.lang.Integer-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSaleTransaction</h4>
<pre>public&nbsp;it.polito.ezshop.data.SaleTransaction&nbsp;getSaleTransaction(java.lang.Integer&nbsp;transactionId)
                                                         throws it.polito.ezshop.exceptions.InvalidTransactionIdException,
                                                                it.polito.ezshop.exceptions.UnauthorizedException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></span></div>
<div class="block">This method returns  a closed sale transaction.
 It can be invoked only after a user with role "Administrator", "ShopManager" or "Cashier" is logged in.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>getSaleTransaction</code>&nbsp;in interface&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>transactionId</code> - the id of the CLOSED Sale transaction</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the transaction if it is available (transaction closed), null otherwise</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>it.polito.ezshop.exceptions.InvalidTransactionIdException</code> - if the transaction id less than or equal to 0 or if it is null</dd>
<dd><code>it.polito.ezshop.exceptions.UnauthorizedException</code> - if there is no logged user or if it has not the rights to perform the operation</dd>
</dl>
</li>
</ul>
<a name="startReturnTransaction-java.lang.Integer-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startReturnTransaction</h4>
<pre>public&nbsp;java.lang.Integer&nbsp;startReturnTransaction(java.lang.Integer&nbsp;saleNumber)
                                         throws it.polito.ezshop.exceptions.InvalidTransactionIdException,
                                                it.polito.ezshop.exceptions.UnauthorizedException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></span></div>
<div class="block">This method starts a new return transaction for units of products that have already been sold and payed.
 It can be invoked only after a user with role "Administrator", "ShopManager" or "Cashier" is logged in.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>startReturnTransaction</code>&nbsp;in interface&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>saleNumber</code> - the number of the transaction</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the id of the return transaction (>= 0), -1 if the transaction is not available.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>it.polito.ezshop.exceptions.InvalidTransactionIdException</code> - if the transactionId  is less than or equal to 0 or if it is null</dd>
<dd><code>it.polito.ezshop.exceptions.UnauthorizedException</code> - if there is no logged user or if it has not the rights to perform the operation</dd>
</dl>
</li>
</ul>
<a name="returnProduct-java.lang.Integer-java.lang.String-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>returnProduct</h4>
<pre>public&nbsp;boolean&nbsp;returnProduct(java.lang.Integer&nbsp;returnId,
                             java.lang.String&nbsp;productCode,
                             int&nbsp;amount)
                      throws it.polito.ezshop.exceptions.InvalidTransactionIdException,
                             it.polito.ezshop.exceptions.InvalidProductCodeException,
                             it.polito.ezshop.exceptions.InvalidQuantityException,
                             it.polito.ezshop.exceptions.UnauthorizedException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></span></div>
<div class="block">This method adds a product to the return transaction
 The amount of units of product to be returned should not exceed the amount originally sold.
 This method DOES NOT update the product quantity
 It can be invoked only after a user with role "Administrator", "ShopManager" or "Cashier" is logged in.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>returnProduct</code>&nbsp;in interface&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>returnId</code> - the id of the return transaction</dd>
<dd><code>productCode</code> - the bar code of the product to be returned</dd>
<dd><code>amount</code> - the amount of product to be returned</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the operation is successful
          false   if the the product to be returned does not exists,
                  if it was not in the transaction,
                  if the amount is higher than the one in the sale transaction,
                  if the transaction does not exist</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>it.polito.ezshop.exceptions.InvalidTransactionIdException</code> - if the return id is less ther or equal to 0 or if it is null</dd>
<dd><code>it.polito.ezshop.exceptions.InvalidProductCodeException</code> - if the product code is empty, null or invalid</dd>
<dd><code>it.polito.ezshop.exceptions.InvalidQuantityException</code> - if the quantity is less than or equal to 0</dd>
<dd><code>it.polito.ezshop.exceptions.UnauthorizedException</code> - if there is no logged user or if it has not the rights to perform the operation</dd>
</dl>
</li>
</ul>
<a name="endReturnTransaction-java.lang.Integer-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>endReturnTransaction</h4>
<pre>public&nbsp;boolean&nbsp;endReturnTransaction(java.lang.Integer&nbsp;returnId,
                                    boolean&nbsp;commit)
                             throws it.polito.ezshop.exceptions.InvalidTransactionIdException,
                                    it.polito.ezshop.exceptions.UnauthorizedException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></span></div>
<div class="block">This method closes a return transaction. A closed return transaction can be committed (i.e. <commit> = true) thus
 it increases the product quantity available on the shelves or not (i.e. <commit> = false) thus the whole trasaction
 is undone.
 This method updates the transaction status (decreasing the number of units sold by the number of returned one and
 decreasing the final price).
 If committed, the return transaction must be persisted in the system's memory.
 It can be invoked only after a user with role "Administrator", "ShopManager" or "Cashier" is logged in.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>endReturnTransaction</code>&nbsp;in interface&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>returnId</code> - the id of the transaction</dd>
<dd><code>commit</code> - whether we want to commit (True) or rollback(false) the transaction</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the operation is successful
          false   if the returnId does not correspond to an active return transaction,
                  if there is some problem with the db</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>it.polito.ezshop.exceptions.InvalidTransactionIdException</code> - if returnId is less than or equal to 0 or if it is null</dd>
<dd><code>it.polito.ezshop.exceptions.UnauthorizedException</code> - if there is no logged user or if it has not the rights to perform the operation</dd>
</dl>
</li>
</ul>
<a name="deleteReturnTransaction-java.lang.Integer-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteReturnTransaction</h4>
<pre>public&nbsp;boolean&nbsp;deleteReturnTransaction(java.lang.Integer&nbsp;returnId)
                                throws it.polito.ezshop.exceptions.InvalidTransactionIdException,
                                       it.polito.ezshop.exceptions.UnauthorizedException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></span></div>
<div class="block">This method deletes a closed return transaction. It affects the quantity of product sold in the connected sale transaction
 (and consequently its price) and the quantity of product available on the shelves.
 It can be invoked only after a user with role "Administrator", "ShopManager" or "Cashier" is logged in.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>deleteReturnTransaction</code>&nbsp;in interface&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>returnId</code> - the identifier of the return transaction to be deleted</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the transaction has been successfully deleted,
          false   if it doesn't exist,
                  if it has been payed,
                  if there are some problems with the db</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>it.polito.ezshop.exceptions.InvalidTransactionIdException</code> - if the transaction id is less than or equal to 0 or if it is null</dd>
<dd><code>it.polito.ezshop.exceptions.UnauthorizedException</code> - if there is no logged user or if it has not the rights to perform the operation</dd>
</dl>
</li>
</ul>
<a name="receiveCashPayment-java.lang.Integer-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>receiveCashPayment</h4>
<pre>public&nbsp;double&nbsp;receiveCashPayment(java.lang.Integer&nbsp;ticketNumber,
                                 double&nbsp;cash)
                          throws it.polito.ezshop.exceptions.InvalidTransactionIdException,
                                 it.polito.ezshop.exceptions.InvalidPaymentException,
                                 it.polito.ezshop.exceptions.UnauthorizedException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></span></div>
<div class="block">This method record the payment of a sale transaction with cash and returns the change (if present).
 This method affects the balance of the system.
 It can be invoked only after a user with role "Administrator", "ShopManager" or "Cashier" is logged in.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>receiveCashPayment</code>&nbsp;in interface&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ticketNumber</code> - the number of the transaction that the customer wants to pay</dd>
<dd><code>cash</code> - the cash received by the cashier</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the change (cash - sale price)
         -1   if the sale does not exists,
              if the cash is not enough,
              if there is some problemi with the db</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>it.polito.ezshop.exceptions.InvalidTransactionIdException</code> - if the  number is less than or equal to 0 or if it is null</dd>
<dd><code>it.polito.ezshop.exceptions.InvalidPaymentException</code> - if the cash is less than or equal to 0</dd>
<dd><code>it.polito.ezshop.exceptions.UnauthorizedException</code> - if there is no logged user or if it has not the rights to perform the operation</dd>
</dl>
</li>
</ul>
<a name="receiveCreditCardPayment-java.lang.Integer-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>receiveCreditCardPayment</h4>
<pre>public&nbsp;boolean&nbsp;receiveCreditCardPayment(java.lang.Integer&nbsp;ticketNumber,
                                        java.lang.String&nbsp;creditCard)
                                 throws it.polito.ezshop.exceptions.InvalidTransactionIdException,
                                        it.polito.ezshop.exceptions.InvalidCreditCardException,
                                        it.polito.ezshop.exceptions.UnauthorizedException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></span></div>
<div class="block">This method record the payment of a sale with credit card. If the card has not enough money the payment should
 be refused.
 The credit card number validity should be checked. It should follow the luhn algorithm.
 The credit card should be registered in the system.
 This method affects the balance of the system.
 It can be invoked only after a user with role "Administrator", "ShopManager" or "Cashier" is logged in.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>receiveCreditCardPayment</code>&nbsp;in interface&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ticketNumber</code> - the number of the sale that the customer wants to pay</dd>
<dd><code>creditCard</code> - the credit card number of the customer</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the operation is successful
          false   if the sale does not exists,
                  if the card has not enough money,
                  if the card is not registered,
                  if there is some problem with the db connection</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>it.polito.ezshop.exceptions.InvalidTransactionIdException</code> - if the sale number is less than or equal to 0 or if it is null</dd>
<dd><code>it.polito.ezshop.exceptions.InvalidCreditCardException</code> - if the credit card number is empty, null or if luhn algorithm does not
                                      validate the credit card</dd>
<dd><code>it.polito.ezshop.exceptions.UnauthorizedException</code> - if there is no logged user or if it has not the rights to perform the operation</dd>
</dl>
</li>
</ul>
<a name="returnCashPayment-java.lang.Integer-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>returnCashPayment</h4>
<pre>public&nbsp;double&nbsp;returnCashPayment(java.lang.Integer&nbsp;returnId)
                         throws it.polito.ezshop.exceptions.InvalidTransactionIdException,
                                it.polito.ezshop.exceptions.UnauthorizedException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></span></div>
<div class="block">This method record the payment of a closed return transaction with given id. The return value of this method is the
 amount of money to be returned.
 This method affects the balance of the application.
 It can be invoked only after a user with role "Administrator", "ShopManager" or "Cashier" is logged in.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>returnCashPayment</code>&nbsp;in interface&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>returnId</code> - the id of the return transaction</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the money returned to the customer
          -1  if the return transaction is not ended,
              if it does not exist,
              if there is a problem with the db</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>it.polito.ezshop.exceptions.InvalidTransactionIdException</code> - if the return id is less than or equal to 0</dd>
<dd><code>it.polito.ezshop.exceptions.UnauthorizedException</code> - if there is no logged user or if it has not the rights to perform the operation</dd>
</dl>
</li>
</ul>
<a name="returnCreditCardPayment-java.lang.Integer-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>returnCreditCardPayment</h4>
<pre>public&nbsp;double&nbsp;returnCreditCardPayment(java.lang.Integer&nbsp;returnId,
                                      java.lang.String&nbsp;creditCard)
                               throws it.polito.ezshop.exceptions.InvalidTransactionIdException,
                                      it.polito.ezshop.exceptions.InvalidCreditCardException,
                                      it.polito.ezshop.exceptions.UnauthorizedException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></span></div>
<div class="block">This method record the payment of a return transaction to a credit card.
 The credit card number validity should be checked. It should follow the luhn algorithm.
 The credit card should be registered and its balance will be affected.
 This method affects the balance of the system.
 It can be invoked only after a user with role "Administrator", "ShopManager" or "Cashier" is logged in.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>returnCreditCardPayment</code>&nbsp;in interface&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>returnId</code> - the id of the return transaction</dd>
<dd><code>creditCard</code> - the credit card number of the customer</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the money returned to the customer
          -1  if the return transaction is not ended,
              if it does not exist,
              if the card is not registered,
              if there is a problem with the db</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>it.polito.ezshop.exceptions.InvalidTransactionIdException</code> - if the return id is less than or equal to 0</dd>
<dd><code>it.polito.ezshop.exceptions.InvalidCreditCardException</code> - if the credit card number is empty, null or if luhn algorithm does not
                                      validate the credit card</dd>
<dd><code>it.polito.ezshop.exceptions.UnauthorizedException</code> - if there is no logged user or if it has not the rights to perform the operation</dd>
</dl>
</li>
</ul>
<a name="recordBalanceUpdate-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>recordBalanceUpdate</h4>
<pre>public&nbsp;boolean&nbsp;recordBalanceUpdate(double&nbsp;toBeAdded)
                            throws it.polito.ezshop.exceptions.UnauthorizedException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></span></div>
<div class="block">This method record a balance update. <toBeAdded> can be both positive and nevative. If positive the balance entry
 should be recorded as CREDIT, if negative as DEBIT. The final balance after this operation should always be
 positive.
 It can be invoked only after a user with role "Administrator", "ShopManager" is logged in.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>recordBalanceUpdate</code>&nbsp;in interface&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>toBeAdded</code> - the amount of money (positive or negative) to be added to the current balance. If this value
                  is >= 0 than it should be considered as a CREDIT, if it is < 0 as a DEBIT</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the balance has been successfully updated
          false if toBeAdded + currentBalance < 0.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>it.polito.ezshop.exceptions.UnauthorizedException</code> - if there is no logged user or if it has not the rights to perform the operation</dd>
</dl>
</li>
</ul>
<a name="getCreditsAndDebits-java.time.LocalDate-java.time.LocalDate-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCreditsAndDebits</h4>
<pre>public&nbsp;java.util.List&lt;it.polito.ezshop.data.BalanceOperation&gt;&nbsp;getCreditsAndDebits(java.time.LocalDate&nbsp;from,
                                                                                  java.time.LocalDate&nbsp;to)
                                                                           throws it.polito.ezshop.exceptions.UnauthorizedException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></span></div>
<div class="block">This method returns a list of all the balance operations (CREDIT,DEBIT,ORDER,SALE,RETURN) performed between two
 given dates.
 This method should understand if a user exchanges the order of the dates and act consequently to correct
 them.
 Both <from> and <to> are included in the range of dates and might be null. This means the absence of one (or
 both) temporal constraints.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>getCreditsAndDebits</code>&nbsp;in interface&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>from</code> - the start date : if null it means that there should be no constraint on the start date</dd>
<dd><code>to</code> - the end date : if null it means that there should be no constraint on the end date</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>All the operations on the balance whose date is <= to and >= from</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>it.polito.ezshop.exceptions.UnauthorizedException</code> - if there is no logged user or if it has not the rights to perform the operation</dd>
</dl>
</li>
</ul>
<a name="computeBalance--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>computeBalance</h4>
<pre>public&nbsp;double&nbsp;computeBalance()
                      throws it.polito.ezshop.exceptions.UnauthorizedException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></span></div>
<div class="block">This method returns the actual balance of the system.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>computeBalance</code>&nbsp;in interface&nbsp;<code>it.polito.ezshop.data.EZShopInterface</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the value of the current balance</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>it.polito.ezshop.exceptions.UnauthorizedException</code> - if there is no logged user or if it has not the rights to perform the operation</dd>
</dl>
</li>
</ul>
<a name="connect--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>connect</h4>
<pre>public static&nbsp;void&nbsp;connect()</pre>
</li>
</ul>
<a name="createTables--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>createTables</h4>
<pre>public static&nbsp;void&nbsp;createTables()</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../it/polito/ezshop/data/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/EZShop.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?it/polito/ezshop/data/EZShop.html" target="_top">Frames</a></li>
<li><a href="EZShop.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
